{"ast":null,"code":"import _slicedToArray from\"/Users/effiphil/Desktop/entertainment-web-app-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./Card.css\";import{useLocation}from\"react-router-dom\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=function Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onBookmarkClick=_ref.onBookmarkClick,onRemove=_ref.onRemove,bookmarked=_ref.bookmarked,loggedIn=_ref.loggedIn;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showBookmarkMessage=_useState2[0],setShowBookmarkMessage=_useState2[1];var location=useLocation();var isHome=location.pathname===\"/\"?card.media_type:null;var isMovies=location.pathname===\"/movies\"?\"movie\":null;var isTv=location.pathname===\"/tv\"?\"tv\":null;var isBookmarked=location.pathname===\"/saved\"?card.media_type:null;var isSaved=bookmarked.some(function(c){return c.id===card.id.toString();});var handleCardClick=function handleCardClick(){var type=isHome||isMovies||isTv||isBookmarked;onCardClick(card.id,type);};var handleBookmarkClick=function handleBookmarkClick(){if(!loggedIn)return;if(!isSaved){onBookmarkClick(card.id,card.poster_path,card.release_date||card.first_air_date,isHome||isMovies||isTv,card.title||card.name);}else{var id=bookmarked.filter(function(c){return c.id===card.id.toString();});onRemove(id[0]._id);}};var handleBookmarMouseEnter=function handleBookmarMouseEnter(){if(!loggedIn)setShowBookmarkMessage(true);};var handleBookmarkMouseLeave=function handleBookmarkMouseLeave(){setShowBookmarkMessage(false);};return/*#__PURE__*/_jsxs(\"li\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card__bookmark-wrap\",onMouseEnter:handleBookmarMouseEnter,onMouseLeave:handleBookmarkMouseLeave,children:[/*#__PURE__*/_jsx(\"label\",{className:\"card__bookmark-text \".concat(showBookmarkMessage?\"card__bookmark-text_show\":\"\"),children:\"Please log in\"}),/*#__PURE__*/_jsx(\"i\",{className:\"card__bookmark \".concat(isSaved?\"card__bookmark_full\":\"\"),alt:\"bookmark\",onClick:handleBookmarkClick})]}),/*#__PURE__*/_jsx(\"img\",{className:\"card__img\",src:\"https://image.tmdb.org/t/p/original/\".concat(card.poster_path),alt:\"movie\",onClick:handleCardClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__info-list\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"card__info\",children:[\" \",card.release_date||card.first_air_date]}),/*#__PURE__*/_jsx(\"i\",{className:\"card__info-seperator\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__info-type\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"card__info-icon\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card__info\",children:card.media_type||isTv})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"card__name\",children:card.title||card.name})]});};export default Card;","map":{"version":3,"sources":["/Users/effiphil/Desktop/entertainment-web-app-full/frontend/src/components/Card/Card.js"],"names":["useLocation","useState","Card","card","onCardClick","onBookmarkClick","onRemove","bookmarked","loggedIn","showBookmarkMessage","setShowBookmarkMessage","location","isHome","pathname","media_type","isMovies","isTv","isBookmarked","isSaved","some","c","id","toString","handleCardClick","type","handleBookmarkClick","poster_path","release_date","first_air_date","title","name","filter","_id","handleBookmarMouseEnter","handleBookmarkMouseLeave"],"mappings":"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","sourcesContent":["import \"./Card.css\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\n\r\nconst Card = ({\r\n  card,\r\n  onCardClick,\r\n  onBookmarkClick,\r\n  onRemove,\r\n  bookmarked,\r\n  loggedIn,\r\n}) => {\r\n  const [showBookmarkMessage, setShowBookmarkMessage] = useState(false);\r\n\r\n  const location = useLocation();\r\n\r\n  const isHome = location.pathname === \"/\" ? card.media_type : null;\r\n  const isMovies = location.pathname === \"/movies\" ? \"movie\" : null;\r\n  const isTv = location.pathname === \"/tv\" ? \"tv\" : null;\r\n  const isBookmarked = location.pathname === \"/saved\" ? card.media_type : null;\r\n\r\n  const isSaved = bookmarked.some((c) => c.id === card.id.toString());\r\n\r\n  const handleCardClick = () => {\r\n    const type = isHome || isMovies || isTv || isBookmarked;\r\n    onCardClick(card.id, type);\r\n  };\r\n\r\n  const handleBookmarkClick = () => {\r\n    if (!loggedIn) return;\r\n    if (!isSaved) {\r\n      onBookmarkClick(\r\n        card.id,\r\n        card.poster_path,\r\n        card.release_date || card.first_air_date,\r\n        isHome || isMovies || isTv,\r\n        card.title || card.name\r\n      );\r\n    } else {\r\n      const id = bookmarked.filter((c) => c.id === card.id.toString());\r\n      onRemove(id[0]._id);\r\n    }\r\n  };\r\n\r\n  const handleBookmarMouseEnter = () => {\r\n    if (!loggedIn) setShowBookmarkMessage(true);\r\n  };\r\n\r\n  const handleBookmarkMouseLeave = () => {\r\n    setShowBookmarkMessage(false);\r\n  };\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <div\r\n        className=\"card__bookmark-wrap\"\r\n        onMouseEnter={handleBookmarMouseEnter}\r\n        onMouseLeave={handleBookmarkMouseLeave}\r\n      >\r\n        <label\r\n          className={`card__bookmark-text ${\r\n            showBookmarkMessage ? \"card__bookmark-text_show\" : \"\"\r\n          }`}\r\n        >\r\n          Please log in\r\n        </label>\r\n        <i\r\n          className={`card__bookmark ${isSaved ? \"card__bookmark_full\" : \"\"}`}\r\n          alt=\"bookmark\"\r\n          onClick={handleBookmarkClick}\r\n        ></i>\r\n      </div>\r\n\r\n      <img\r\n        className=\"card__img\"\r\n        src={`https://image.tmdb.org/t/p/original/${card.poster_path}`}\r\n        alt=\"movie\"\r\n        onClick={handleCardClick}\r\n      ></img>\r\n\r\n      <div className=\"card__info-list\">\r\n        <p className=\"card__info\">\r\n          {\" \"}\r\n          {card.release_date || card.first_air_date}\r\n        </p>\r\n\r\n        <i className=\"card__info-seperator\"></i>\r\n\r\n        <div className=\"card__info-type\">\r\n          <i className=\"card__info-icon\"></i>\r\n          <p className=\"card__info\">{card.media_type || isTv}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <p className=\"card__name\">{card.title || card.name}</p>\r\n    </li>\r\n  );\r\n};\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}