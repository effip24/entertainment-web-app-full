{"ast":null,"code":"import _slicedToArray from\"/Users/effiphil/Desktop/entertainment-web-app-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./SearchBar.css\";import CardsList from\"../CardsList/CardsList\";import Card from\"../Card/Card\";import{useEffect,useState}from\"react\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBar=function SearchBar(_ref){var placeholder=_ref.placeholder,onSearch=_ref.onSearch,searchResult=_ref.searchResult,onCardClick=_ref.onCardClick,onBookmarkClick=_ref.onBookmarkClick,bookmarked=_ref.bookmarked;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),keyword=_useState2[0],setKeyWord=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSearched=_useState4[0],setIsSearched=_useState4[1];var location=useLocation();var isMulti=location.pathname===\"/\"?\"multi\":null;var isMovie=location.pathname===\"/movies\"?\"movie\":null;var isTv=location.pathname===\"/tv\"?\"tv\":null;useEffect(function(){setIsSearched(false);setKeyWord(\"\");},[]);var onKeyWordChange=function onKeyWordChange(e){setKeyWord(e.target.value);e.target.value===\"\"?setIsSearched(!isSearched):setIsSearched(isSearched);};var handleSubmit=function handleSubmit(e){e.preventDefault();setIsSearched(!isSearched);onSearch(keyword,isMulti||isMovie||isTv);};return/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"search__form\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"search__form-container\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"search__icon\"}),/*#__PURE__*/_jsx(\"input\",{className:\"search__input\",placeholder:placeholder,value:keyword,onChange:onKeyWordChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"search__result\",style:{display:\"\".concat(isSearched?\"flex\":\"none\")},children:/*#__PURE__*/_jsx(CardsList,{title:\"Found \".concat(searchResult.length,\" results for '\").concat(keyword,\"'\"),children:searchResult.map(function(card,id){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:onCardClick,onBookmarkClick:onBookmarkClick,bookmarked:bookmarked},id);})})})]});};export default SearchBar;","map":{"version":3,"sources":["/Users/effiphil/Desktop/entertainment-web-app-full/frontend/src/components/SearchBar/SearchBar.js"],"names":["CardsList","Card","useEffect","useState","useLocation","SearchBar","placeholder","onSearch","searchResult","onCardClick","onBookmarkClick","bookmarked","keyword","setKeyWord","isSearched","setIsSearched","location","isMulti","pathname","isMovie","isTv","onKeyWordChange","e","target","value","handleSubmit","preventDefault","display","length","map","card","id"],"mappings":"iJAAA,MAAO,iBAAP,CAEA,MAAOA,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAOZ,IANJC,CAAAA,WAMI,MANJA,WAMI,CALJC,QAKI,MALJA,QAKI,CAJJC,YAII,MAJJA,YAII,CAHJC,WAGI,MAHJA,WAGI,CAFJC,eAEI,MAFJA,eAEI,CADJC,UACI,MADJA,UACI,CACJ,cAA8BR,QAAQ,CAAC,EAAD,CAAtC,wCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAAoCV,QAAQ,CAAC,KAAD,CAA5C,yCAAOW,UAAP,eAAmBC,aAAnB,eAEA,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CAEA,GAAMa,CAAAA,OAAO,CAAGD,QAAQ,CAACE,QAAT,GAAsB,GAAtB,CAA4B,OAA5B,CAAsC,IAAtD,CACA,GAAMC,CAAAA,OAAO,CAAGH,QAAQ,CAACE,QAAT,GAAsB,SAAtB,CAAkC,OAAlC,CAA4C,IAA5D,CACA,GAAME,CAAAA,IAAI,CAAGJ,QAAQ,CAACE,QAAT,GAAsB,KAAtB,CAA8B,IAA9B,CAAqC,IAAlD,CAEAhB,SAAS,CAAC,UAAM,CACda,aAAa,CAAC,KAAD,CAAb,CACAF,UAAU,CAAC,EAAD,CAAV,CACD,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAO,CAC7BT,UAAU,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CACAF,CAAC,CAACC,MAAF,CAASC,KAAT,GAAmB,EAAnB,CACIT,aAAa,CAAC,CAACD,UAAF,CADjB,CAEIC,aAAa,CAACD,UAAD,CAFjB,CAGD,CALD,CAOA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACH,CAAD,CAAO,CAC1BA,CAAC,CAACI,cAAF,GACAX,aAAa,CAAC,CAACD,UAAF,CAAb,CAEAP,QAAQ,CAACK,OAAD,CAAUK,OAAO,EAAIE,OAAX,EAAsBC,IAAhC,CAAR,CACD,CALD,CAMA,mBACE,aAAK,SAAS,CAAC,QAAf,wBACE,aAAM,SAAS,CAAC,cAAhB,CAA+B,QAAQ,CAAEK,YAAzC,uBACE,aAAK,SAAS,CAAC,wBAAf,wBACE,UAAG,SAAS,CAAC,cAAb,EADF,cAEE,cACE,SAAS,CAAC,eADZ,CAEE,WAAW,CAAEnB,WAFf,CAGE,KAAK,CAAEM,OAHT,CAIE,QAAQ,CAAES,eAJZ,EAFF,GADF,EADF,cAaE,YACE,SAAS,CAAC,gBADZ,CAEE,KAAK,CAAE,CAAEM,OAAO,WAAKb,UAAU,CAAG,MAAH,CAAY,MAA3B,CAAT,CAFT,uBAIE,KAAC,SAAD,EACE,KAAK,iBAAWN,YAAY,CAACoB,MAAxB,0BAA+ChB,OAA/C,KADP,UAGGJ,YAAY,CAACqB,GAAb,CAAiB,SAACC,IAAD,CAAOC,EAAP,qBAChB,KAAC,IAAD,EAEE,IAAI,CAAED,IAFR,CAGE,WAAW,CAAErB,WAHf,CAIE,eAAe,CAAEC,eAJnB,CAKE,UAAU,CAAEC,UALd,EACOoB,EADP,CADgB,EAAjB,CAHH,EAJF,EAbF,GADF,CAkCD,CArED,CAsEA,cAAe1B,CAAAA,SAAf","sourcesContent":["import \"./SearchBar.css\";\r\n\r\nimport CardsList from \"../CardsList/CardsList\";\r\nimport Card from \"../Card/Card\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst SearchBar = ({\r\n  placeholder,\r\n  onSearch,\r\n  searchResult,\r\n  onCardClick,\r\n  onBookmarkClick,\r\n  bookmarked,\r\n}) => {\r\n  const [keyword, setKeyWord] = useState(\"\");\r\n  const [isSearched, setIsSearched] = useState(false);\r\n\r\n  const location = useLocation();\r\n\r\n  const isMulti = location.pathname === \"/\" ? \"multi\" : null;\r\n  const isMovie = location.pathname === \"/movies\" ? \"movie\" : null;\r\n  const isTv = location.pathname === \"/tv\" ? \"tv\" : null;\r\n\r\n  useEffect(() => {\r\n    setIsSearched(false);\r\n    setKeyWord(\"\");\r\n  }, []);\r\n\r\n  const onKeyWordChange = (e) => {\r\n    setKeyWord(e.target.value);\r\n    e.target.value === \"\"\r\n      ? setIsSearched(!isSearched)\r\n      : setIsSearched(isSearched);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setIsSearched(!isSearched);\r\n\r\n    onSearch(keyword, isMulti || isMovie || isTv);\r\n  };\r\n  return (\r\n    <div className=\"search\">\r\n      <form className=\"search__form\" onSubmit={handleSubmit}>\r\n        <div className=\"search__form-container\">\r\n          <i className=\"search__icon\"></i>\r\n          <input\r\n            className=\"search__input\"\r\n            placeholder={placeholder}\r\n            value={keyword}\r\n            onChange={onKeyWordChange}\r\n          ></input>\r\n        </div>\r\n      </form>\r\n\r\n      <div\r\n        className=\"search__result\"\r\n        style={{ display: `${isSearched ? \"flex\" : \"none\"}` }}\r\n      >\r\n        <CardsList\r\n          title={`Found ${searchResult.length} results for '${keyword}'`}\r\n        >\r\n          {searchResult.map((card, id) => (\r\n            <Card\r\n              key={id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onBookmarkClick={onBookmarkClick}\r\n              bookmarked={bookmarked}\r\n            />\r\n          ))}\r\n        </CardsList>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default SearchBar;\r\n"]},"metadata":{},"sourceType":"module"}