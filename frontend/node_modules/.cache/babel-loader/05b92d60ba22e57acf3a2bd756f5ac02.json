{"ast":null,"code":"import _classCallCheck from\"/Users/effiphil/Desktop/entertainment-web-app-full/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/effiphil/Desktop/entertainment-web-app-full/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var TmdbApi=/*#__PURE__*/function(){/** constructor of TmdbApi class.\n   * @param  baseUrl - the URL to make the request to.\n   */function TmdbApi(baseUrl){_classCallCheck(this,TmdbApi);this._baseUrl=baseUrl;this._apiKey=process.env.TMDB_TOKEN;this._page=\"4\";}_createClass(TmdbApi,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"Error: \".concat(res.status));}},{key:\"getTrending\",value:function getTrending(){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/trending/all/day?api_key=\").concat(this._apiKey)).then(function(res){return _this._checkResponse(res);});}},{key:\"getRecommended\",value:function getRecommended(){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/trending/all/day?api_key=\").concat(this._apiKey,\"&page=\").concat(this._page)).then(function(res){return _this2._checkResponse(res);});}},{key:\"getMovies\",value:function getMovies(page){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/discover/movie?api_key=\").concat(this._apiKey,\"&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=\").concat(page)).then(function(res){return _this3._checkResponse(res);});}},{key:\"getTv\",value:function getTv(page){var _this4=this;return fetch(\"\".concat(this._baseUrl,\"/discover/tv?api_key=\").concat(this._apiKey,\"&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=\").concat(page)).then(function(res){return _this4._checkResponse(res);});}},{key:\"getDetails\",value:function getDetails(id,type){var _this5=this;return fetch(\"\".concat(this._baseUrl,\"/\").concat(type,\"/\").concat(id,\"?api_key=\").concat(this._apiKey,\"&language=en-US\")).then(function(res){return _this5._checkResponse(res);});}},{key:\"getTrailer\",value:function getTrailer(id,type){var _this6=this;return fetch(\"\".concat(this._baseUrl,\"/\").concat(type,\"/\").concat(id,\"/videos?api_key=\").concat(this._apiKey,\"&language=en-US\")).then(function(res){return _this6._checkResponse(res);});}},{key:\"search\",value:function search(key,type){var _this7=this;return fetch(\"\".concat(this._baseUrl,\"/search/\").concat(type,\"?api_key=\").concat(this._apiKey,\"&language=en-US&query=\").concat(key,\"&include_adult=true\")).then(function(res){return _this7._checkResponse(res);});}}]);return TmdbApi;}();var tmdbApi=new TmdbApi(\"https://api.themoviedb.org/3\");export default tmdbApi;","map":{"version":3,"sources":["/Users/effiphil/Desktop/entertainment-web-app-full/frontend/src/utils/tmdbApi.js"],"names":["TmdbApi","baseUrl","_baseUrl","_apiKey","process","env","TMDB_TOKEN","_page","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","page","id","type","key","tmdbApi"],"mappings":"mSAAMA,CAAAA,O,yBACJ;AACF;AACA,KACE,iBAAYC,OAAZ,CAAqB,+BACnB,KAAKC,QAAL,CAAgBD,OAAhB,CACA,KAAKE,OAAL,CAAeC,OAAO,CAACC,GAAR,CAAYC,UAA3B,CACA,KAAKC,KAAL,CAAa,GAAb,CACD,C,kDAED,wBAAeC,GAAf,CAAoB,CAClB,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACD,CACD,MAAOC,CAAAA,OAAO,CAACC,MAAR,kBAAyBJ,GAAG,CAACK,MAA7B,EAAP,CACD,C,2BAED,sBAAc,gBACZ,MAAOC,CAAAA,KAAK,WACP,KAAKZ,QADE,sCACmC,KAAKC,OADxC,EAAL,CAELY,IAFK,CAEA,SAACP,GAAD,CAAS,CACd,MAAO,CAAA,KAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAP,CACD,CAJM,CAAP,CAKD,C,8BAED,yBAAiB,iBACf,MAAOM,CAAAA,KAAK,WACP,KAAKZ,QADE,sCACmC,KAAKC,OADxC,kBACwD,KAAKI,KAD7D,EAAL,CAELQ,IAFK,CAEA,SAACP,GAAD,CAAS,CACd,MAAO,CAAA,MAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAP,CACD,CAJM,CAAP,CAKD,C,yBAED,mBAAUS,IAAV,CAAgB,iBACd,MAAOH,CAAAA,KAAK,WACP,KAAKZ,QADE,oCACiC,KAAKC,OADtC,+FACmIc,IADnI,EAAL,CAELF,IAFK,CAEA,SAACP,GAAD,CAAS,CACd,MAAO,CAAA,MAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAP,CACD,CAJM,CAAP,CAKD,C,qBAED,eAAMS,IAAN,CAAY,iBACV,MAAOH,CAAAA,KAAK,WACP,KAAKZ,QADE,iCAC8B,KAAKC,OADnC,+FACgIc,IADhI,EAAL,CAELF,IAFK,CAEA,SAACP,GAAD,CAAS,CACd,MAAO,CAAA,MAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAP,CACD,CAJM,CAAP,CAKD,C,0BAED,oBAAWU,EAAX,CAAeC,IAAf,CAAqB,iBACnB,MAAOL,CAAAA,KAAK,WACP,KAAKZ,QADE,aACUiB,IADV,aACkBD,EADlB,qBACgC,KAAKf,OADrC,oBAAL,CAELY,IAFK,CAEA,SAACP,GAAD,CAAS,CACd,MAAO,CAAA,MAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAP,CACD,CAJM,CAAP,CAKD,C,0BAED,oBAAWU,EAAX,CAAeC,IAAf,CAAqB,iBACnB,MAAOL,CAAAA,KAAK,WACP,KAAKZ,QADE,aACUiB,IADV,aACkBD,EADlB,4BACuC,KAAKf,OAD5C,oBAAL,CAELY,IAFK,CAEA,SAACP,GAAD,CAAS,CACd,MAAO,CAAA,MAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAP,CACD,CAJM,CAAP,CAKD,C,sBAED,gBAAOY,GAAP,CAAYD,IAAZ,CAAkB,iBAChB,MAAOL,CAAAA,KAAK,WACP,KAAKZ,QADE,oBACiBiB,IADjB,qBACiC,KAAKhB,OADtC,kCACsEiB,GADtE,wBAAL,CAELL,IAFK,CAEA,SAACP,GAAD,CAAS,CACd,MAAO,CAAA,MAAI,CAACQ,cAAL,CAAoBR,GAApB,CAAP,CACD,CAJM,CAAP,CAKD,C,uBAGH,GAAMa,CAAAA,OAAO,CAAG,GAAIrB,CAAAA,OAAJ,CAAY,8BAAZ,CAAhB,CAEA,cAAeqB,CAAAA,OAAf","sourcesContent":["class TmdbApi {\n  /** constructor of TmdbApi class.\n   * @param  baseUrl - the URL to make the request to.\n   */\n  constructor(baseUrl) {\n    this._baseUrl = baseUrl;\n    this._apiKey = process.env.TMDB_TOKEN;\n    this._page = \"4\";\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  getTrending() {\n    return fetch(\n      `${this._baseUrl}/trending/all/day?api_key=${this._apiKey}`\n    ).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  getRecommended() {\n    return fetch(\n      `${this._baseUrl}/trending/all/day?api_key=${this._apiKey}&page=${this._page}`\n    ).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  getMovies(page) {\n    return fetch(\n      `${this._baseUrl}/discover/movie?api_key=${this._apiKey}&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=${page}`\n    ).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  getTv(page) {\n    return fetch(\n      `${this._baseUrl}/discover/tv?api_key=${this._apiKey}&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=${page}`\n    ).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  getDetails(id, type) {\n    return fetch(\n      `${this._baseUrl}/${type}/${id}?api_key=${this._apiKey}&language=en-US`\n    ).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  getTrailer(id, type) {\n    return fetch(\n      `${this._baseUrl}/${type}/${id}/videos?api_key=${this._apiKey}&language=en-US`\n    ).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n\n  search(key, type) {\n    return fetch(\n      `${this._baseUrl}/search/${type}?api_key=${this._apiKey}&language=en-US&query=${key}&include_adult=true`\n    ).then((res) => {\n      return this._checkResponse(res);\n    });\n  }\n}\n\nconst tmdbApi = new TmdbApi(\"https://api.themoviedb.org/3\");\n\nexport default tmdbApi;\n"]},"metadata":{},"sourceType":"module"}